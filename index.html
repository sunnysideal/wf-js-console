<!DOCTYPE html>
<html>
<head>

<script>
// load required scripts in correct order
const loadScript = src => {
  return new Promise((resolve, reject) => {
    const script = document.createElement('script')
    script.type = 'text/javascript'
    script.onload = resolve
    script.onerror = reject
    script.src = src
    document.head.append(script)
  })
}

loadScript('init.js')
.then(() => loadScript('https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js'))
.then(() => loadScript('https://cdn.jsdelivr.net/npm/chart.js@2.8.0'))
.then(() => loadScript('https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js'))
.then(() => loadScript('wfparse.js'))

.then(() => loadScript('wflowrest.js'))

.catch(() => console.error('Something went wrong.'))

</script>

 

<link rel="stylesheet" href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
<link rel="stylesheet" href="console.css">



<title>Test Weather</title>
</head>
<body onresize="browserResize()">

<div class="console-container" >
	<div class="grid-tl"></div>
	
	<div class="grid-tm temperature-container ">
		<div class="air_temperature_title obs_title"><span id="air_temperature_title">Temperature</span></div>
		<div class="air_temperature"><span id="air_temperature">-.-</span><span class="tempunits">&degC</span></div>
		<div class="air_temperature_min"><span id="air_temperature_min" >-.-</span>&degC</div>
		<div class="air_temperature_min_time"><span id="air_temperature_min_time">--.--</span></div>		
		<div class="air_temperature_max"><span id="air_temperature_max" >-.-</span>&degC</div>
		<div id="air_temperature_max_time" class="air_temperature_max_time">--.--</div>
	</div>

	<div class="grid-tr wind-container"> 	

		<div class="chart_title obs_title">Wind</div>
		<div class="chart" ><canvas id="wind" class="chart" ></canvas></div>
		<div class="wind-records" id="beaufort_description">BWS</div>
	</div>
	<div class="grid-ml chart-container">
		<div class="chart_title obs_title">28 Day Temperature</div>
		<div class="chart" ></div>
	</div>



	<div class="grid-mm chart-container" >
		<div class="chart_title obs_title">Today Temperature</div>
		<div id="dailychartist" class="chart ct-chart ct-major-third" ></div>
	</div>




	<div class="grid-mr chart-container" >
			<div class="chart_title obs_title">Wind</div>
		<div id="windchartist" class="chart ct-chart ct-major-third" ></div>
		</div>


	<div class="grid-bl">
	</div>

	<div class="grid-bm datebattery-container ">
	
		<div class="date"><span id="obs_date">Date</span></div>
		<div class="time"><span id="obs_time">Time</span></div>
		<div class="battery_title obs_title"  >Battery</div>
		<div class="power_mode_title obs_title">Power Mode</div>
		<div class="battery"><span id="battery">-.---</span> V</div>
		<div class="power_mode"><span id="power_mode"></span></div>
	</div>


	<div class="grid-br ephemeris-container ">
		<div class="sunrise_image">rise</div>
		<div class="sunset_image">set</div>
		<div class="solarnoon_image">noon</div>
		<div class = "solarnoon_time"><span id="solarnoon_time">time</span></div>
		<div class = "sunrise_time"><span id="sunrise_time">time</span></div>
		<div class="sunset_time"><span id="sunset_time">time</span></div>
	</div>

</div>

</body>
</html>
